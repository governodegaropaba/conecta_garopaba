function applyCPFMask(e){var a=e.value;isNaN(a[a.length-1])?e.value=a.substring(0,a.length-1):(e.setAttribute("maxlength","14"),3!=a.length&&7!=a.length||(e.value+="."),11==a.length&&(e.value+="-"))}function applyDataNascMask(e){var a=e.value;isNaN(a[a.length-1])?e.value=a.substring(0,a.length-1):(e.setAttribute("maxlength","10"),2!=a.length&&5!=a.length||(e.value+="/"))}function openTermsModal(){$("#termsModal").modal()}!function(e){"use strict";e(".input100").each((function(){e(this).on("blur",(function(){""!=e(this).val().trim()?e(this).addClass("has-val"):e(this).removeClass("has-val")}))}));var a=e(".validate-input .input100");function t(a){if("email"==e(a).attr("type")||"email"==e(a).attr("name")){if(null==e(a).val().trim().match(/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$/))return!1}else if("username"==e(a).attr("name")){if(e(a).val().length<14)return!1}else if("password"==e(a).attr("name")){if(e(a).val().length<10)return!1}else if(""==e(a).val().trim())return!1}function n(a){var t=e(a).parent();e(t).addClass("alert-validate")}function r(a){e("#login-msg-return").removeClass("alert-success").addClass("alert-danger").html(a).fadeTo(4e3,500).slideUp(500,(function(){e("#login-msg-return").slideUp(500)}))}e(".validate-form").on("submit",(function(){for(var s=!0,o=0;o<a.length;o++)0==t(a[o])&&(n(a[o]),s=!1);if(!s)return s;var l,i,u=function(){var a=e(".validate-form").serializeArray();return a.forEach((function(e){if("username"==e.name)e.value=e.value.replaceAll(".","").replaceAll("-","");else if("password"==e.name){var a=e.value.split("/");e.value=a[2]+"-"+a[1]+"-"+a[0]}})),a}();return e('.validate-form input[name="name"]').length>0?function(a){if(0==e('input[name="auth"]').prop("checked"))return r("Aceite os termos de uso para continuar"),!1;var t=new ieFormData;return t.append("content",JSON.stringify(a)),t.append("task","create_user"),e.ajax({url:"../controller/user.php",type:"POST",data:t,cache:!1,dataType:"json",async:!1,processData:t.processData,contentType:t.contentType,success:function(a){return"ERROR"===a.result?(r(a.msg_result),!1):(e("#login-msg-return").removeClass("alert-danger").addClass("alert-success").html('Cadastro realizado com sucesso. <b><a href="index.php">Clique aqui</a></b> para fazer o login.').fadeTo(4e3,500),e(".validate-input").css("display","none"),!0)},error:function(e,a,t){return r("Desculpe, ocorreu um erro (Cod.: USR99)"),console.error("sendUserLogin => ERROR | obj: ",e," | status: ",a," | statusMsg: ",t),!1}}),!1}(u):(l=u,(i=new ieFormData).append("content",JSON.stringify(l)),i.append("task","login_user"),e.ajax({url:"../controller/user.php",type:"POST",data:i,cache:!1,dataType:"json",async:!1,processData:i.processData,contentType:i.contentType,success:function(a){return"ERROR"===a.result?(r(a.msg_result),!1):(function(a){e.ajax({url:e('input[name="url"]').val(),type:"POST",data:a,cache:!1,async:!1,success:function(e){return window.location.href="welcome.html",!0},error:function(e,a,t){return window.location.href="welcome.html",!0}})}(l),!0)},error:function(e,a,t){return r("Desculpe, ocorreu um erro (Cod.: USR99)"),console.error("sendUserLogin => ERROR | obj: ",e," | status: ",a," | statusMsg: ",t),!1}}),!1)})),e(".validate-form .input100").each((function(){e(this).focus((function(){!function(a){var t=e(a).parent();e(t).removeClass("alert-validate")}(this)}))}))}(jQuery);var ieFormData=function(){if(void 0!==window.FormData){var e=new FormData;return e.processData=!1,e.contentType=!1,e}this.processData=!0,this.contentType="application/x-www-form-urlencoded",this.append=function(e,a){return this[e]=void 0===a?"":a,!0}};